<div class="p-grid">
  <div class="p-sm-12 p-md-12 p-lg-12 p-xl-12" style="text-align:center;">
      <h2 class="box">Cidades</h2>
  </div>
  <p-table [value]="cidades" class="p-sm-12 p-md-12 p-lg-12 p-xl-12">
      <ng-template pTemplate="header">
          <tr>
              <th>Nome</th>
              <th>Estado</th>
              <th>Ação</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-cidade>
          <tr style="text-align:center">
              <td>{{cidade.nome}}</td>
              <td>{{cidade.estado.nome}}</td>
              <td>
                  <p-button (click)="showDialogUpdate(cidade)" icon="pi pi-pencil"></p-button>&nbsp;
                  <p-button (click)="showDialogDelete(cidade)" icon="pi pi-trash"></p-button>
              </td>
          </tr>
      </ng-template>
  </p-table>
</div>

<p-dialog header="Cidade" [(visible)]="displayUpdate" [modal]="true" [responsive]="true" [style]="{width: '450px', minWidth: '200px'}" [minY]="70" 
  [maximizable]="true" [baseZIndex]="10000">
  <br>
  <span class="ui-float-label">
      <input id="float-input" type="text" size="50" pInputText [value]="cidade.nome" [(ngModel)]="cidade.nome"> 
      <label for="float-input">Nome</label>
  </span>
  <br>
  <span class="ui-fluid">
    <p-dropdown [options]="estados" [(ngModel)]="cidade.estado" placeholder="Selecione o Estado" optionLabel="nome" [showClear]="true"></p-dropdown>
  </span>
  <br><br><br>
  <p-footer>
      <button type="button" pButton icon="pi pi-check" (click)="atualizar(cidade)" label="Atualizar"></button>
      <button type="button" pButton icon="pi pi-close" (click)="displayUpdate=false" label="Cancelar" class="ui-button-secondary"></button>
  </p-footer>
</p-dialog>

<p-dialog header="Cidade" [(visible)]="displayDelete" [modal]="true" [responsive]="true" [style]="{width: '450px', minWidth: '200px'}" [minY]="70" 
  [maximizable]="true" [baseZIndex]="10000">
  <br>
  <span>
      <p>Deseja realmente excluir esta cidade ?</p>
  </span>
  <br>
  <p-footer>
      <button type="button" pButton icon="pi pi-check" (click)="deletar(cidade)" label="Deletar"></button>
      <button type="button" pButton icon="pi pi-close" (click)="displayDelete=false" label="Cancelar" class="ui-button-secondary"></button>
  </p-footer>
</p-dialog>

